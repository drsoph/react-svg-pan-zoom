{"version":3,"sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/build-umd/transformation-matrix.min.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","viewerWidth","viewerHeight","SVGWidth","SVGHeight","scaleFactorMin","scaleFactorMax","set","_objectSpread","_transformationMatrix","identity","version","MODE_IDLE","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","_typeof","viewerX","viewerY","matrix","fromObject","inverseMatrix","inverse","applyToPoint","x","y","scaleFactor","a","translationX","e","translationY","f","SVGPointX","SVGPointY","zoomLevel","transform","translate","scale","_constants","change","action","arguments","length","undefined","assign","freeze","default","Array","isArray","b","map","u","parseFloat","match","Error","iterator","constructor","isNaN","isFinite","v","from","slice","apply","concat","h","Math","cos","sin","g","PI","w","P","S","O","A","tan","F","M","j","T","_","SVGAlignX","ALIGN_LEFT","SVGAlignY","ALIGN_TOP","scaleX","scaleY","scaleLevel","min","scaleMatrix","translationMatrix","remainderY","ALIGN_CENTER","round","ALIGN_BOTTOM","remainderX","ALIGN_RIGHT","isZoomLevelGoingOutOfBounds","_common","limitZoomLevel","ACTION_ZOOM","SVGPoint","getSVGPoint","zoom","MODE_ZOOMING","props","start","end","abs","box","_calculateBox","fitSelection","width","height","lessThanScaleFactorMin","moreThanScaleFactorMax","max","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","MODE_PANNING","ACTION_PAN","panLimit","deltaX","deltaY","nextValue","pan","SVGDeltaX","SVGDeltaY","_applyToPoints2","_slicedToArray","applyToPoints","_applyToPoints2$","x1","y1","_applyToPoints2$2","x2","y2","moveX","moveY","console","error","doc_v1_to_v2","_is","isNullOrUndefined","tool","tipControlledComponent","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","tipDeprecatedMiniatureProps","toolbarPosition","tipDeprecateToolbarProps","github_base","doc_v2_to_v3","_react","_interopRequireDefault","_propTypes","_eventFactory","_pan2","_interactions","_interactionsTouch","_zoom2","_miniature","_cursorPolyfill","_borderGradient","_selection","_toolbar","_detectTouch","_miniature2","ReactSVGPanZoom","context","_this","_classCallCheck","this","_children$props","children","_getPrototypeOf","ViewerDOM","state","pointerX","pointerY","defaultValue","getDefaultValue","autoPanLoop","_assertThisInitialized","React","Component","prevProps","getValue","needUpdate","setViewerSize","_props$children$props","_prevProps$children$p","prevSVGWidth","prevSVGHeight","setSVGSize","setZoomLevels","setValue","autoPanIsRunning","requestAnimationFrame","isValueValid","TOOL_NONE","_this$props","onChangeValue","onZoom","onPan","fitToViewer","zoomOnViewerCenter","setPointOnViewerCenter","reset","openMiniature","closeMiniature","event","TOOL_AUTO","indexOf","getTool","target","onEventHandler","click","onClick","dblclick","onDoubleClick","mousemove","onMouseMove","mouseup","onMouseUp","mousedown","onMouseDown","touchstart","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","onTouchCancel","type","coords","onInterval","cursor","_this2","_this$state","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","blockChildEvents","style","display","touchAction","detectPinchGesture","createElement","position","backgroundColor","className","ref","handleViewerEvent","_this2$ViewerDOM$getB","getBoundingClientRect","left","top","clientX","clientY","setState","onWheel","onMouseEnter","onMouseEnterOrLeave","onMouseLeave","toSVG","pointerEvents","detectAutoPan","direction","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","toolbarProps","POSITION_NONE","_extends","onChangeTool","miniatureProps","SVGBackground","propTypes","PropTypes","number","isRequired","oneOfType","shape","oneOf","bool","func","background","string","SVGStyle","detectWheel","preventPanOutside","scaleFactorOnWheel","modifierKeys","array","disableDoubleClickZoomWithToolAuto","element","propName","componentName","prop","types","Children","count","join","defaultProps","disableZoomWithToolAuto","Toolbar","Miniature","ViewerEvent","originalEvent","SVGViewer","preventDefault","stopPropagation","_cacheDecomposedValue","decompose","_ViewerDOM$getBoundin","_zoom","startZooming","_pan","startPanning","_ViewerDOM$getBoundin2","forceExit","buttons","stopZooming","updateZooming","stopPanning","updatePanning","_ViewerDOM$getBoundin3","_ViewerDOM$getBoundin4","modifierKeyActive","reduce","current","modifierKey","getModifierState","_ViewerDOM$getBoundin5","delta","_mapRange","setFocus","autoPanIfNeeded","WrappedComponent","RandomUID","_React$Component","_possibleConstructorReturn","uid","nextUID","_inherits","_createClass","_uid","displayName","_getDisplayName","_iconCursor","_iconPan","_iconZoomIn","_iconZoomOut","_iconFit","_toolbarButton","_ref","handleChangeTool","isHorizontal","right","bottom","borderRadius","flexDirection","padding","role","active","title","handleFit","_miniatureToggleButton","_miniatureMask","_style","ratio","zoomToFit","_defineProperty","overflow","outline","transition","centerTranslation","fill","_migrationTips","_viewer","_uncontrolledViewer","keys","forEach","_exportNames","tipNoViewer","eventType","ViewerMouseEvent","ViewerTouchEvent","_viewerMouseEvent","_viewerTouchEvent","_viewerEvent","_cachePoint","rect","point","touches","points","touch","push","identifier","_cachePoints","touchesToPoints","_cacheChangedPoints","changedTouches","low1","high1","low2","high2","isMultiTouch","onMultiTouch","resetMode","getNextValue","hasPinchPointDistance","shouldResetPinchPointDistance","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","nextValueFn","touchPosition","getTouchPosition","needPrefix","isFirefox","isWebkit","userAgent","navigator","toLowerCase","_RandomUID","prefixID","BorderGradient","gradientID","maskID","id","spreadMethod","offset","stopColor","stopOpacity","stroke","mask","Selection","strokeOpacity","fillOpacity","ToolbarButton","hover","margin","color","border","maxTouchPoints","_iconArrow","MiniatureToggleButton","open","IconArrow","MiniatureMask","opacity","UncontrolledReactSVGPanZoom","defaultTool","Viewer","changeTool","changeValue","_objectWithoutProperties"],"mappings":"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","file":"react-svg-pan-zoom.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\n\nexport const INITIAL_VALUE = {}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import {TOOL_NONE, MODE_IDLE} from '../constants';\nimport {\n  identity,\n  fromObject,\n  inverse,\n  applyToPoint,\n  transform,\n  translate,\n  scale\n} from 'transformation-matrix';\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax) {\n  return set({}, {\n    ...identity(),\n    version: 2,\n    mode: MODE_IDLE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param change\n * @param action\n * @returns {Object}\n */\nexport function set(value, change, action = null) {\n  value = Object.assign({}, value, change, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version');\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGSize(value, SVGWidth, SVGHeight) {\n  return set(value, {SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","!function(r,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.TransformationMatrix=n():r.TransformationMatrix=n()}(window,function(){return function(r){var n={};function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},t.r=function(r){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:!0})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&\"object\"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:r}),2&n&&\"string\"!=typeof r)for(var o in r)t.d(e,o,function(n){return r[n]}.bind(null,o));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,\"a\",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p=\"\",t(t.s=0)}([function(r,n,t){\"use strict\";function e(r,n){return Array.isArray(n)?[r.a*n[0]+r.c*n[1]+r.e,r.b*n[0]+r.d*n[1]+r.f]:{x:r.a*n.x+r.c*n.y+r.e,y:r.b*n.x+r.d*n.y+r.f}}function o(r,n){return n.map(function(n){return e(r,n)})}function u(r){return{a:parseFloat(r.a),b:parseFloat(r.b),c:parseFloat(r.c),d:parseFloat(r.d),e:parseFloat(r.e),f:parseFloat(r.f)}}t.r(n);var a=/^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i;function i(r){var n=r.match(a);if(null===n||n.length<7)throw new Error(\"'\"+r+\"' is not a matrix\");return{a:parseFloat(n[1]),b:parseFloat(n[2]),c:parseFloat(n[3]),d:parseFloat(n[4]),e:parseFloat(n[5]),f:parseFloat(n[6])}}function f(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function c(r){var n=r.a,t=r.b,e=r.c,o=r.d,u=r.e,a=r.f,i=n*o-t*e;return{a:o/i,b:t/-i,c:e/-i,d:n/i,e:(o*u-e*a)/-i,f:(t*u-n*a)/i}}var d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r},s=function(r){return\"number\"==typeof r&&!isNaN(r)&&isFinite(r)},l=function(r){return null!=r&&\"object\"===(void 0===r?\"undefined\":d(r))};function p(r){return l(r)&&r.hasOwnProperty(\"a\")&&s(r.a)&&r.hasOwnProperty(\"b\")&&s(r.b)&&r.hasOwnProperty(\"c\")&&s(r.c)&&r.hasOwnProperty(\"d\")&&s(r.d)&&r.hasOwnProperty(\"e\")&&s(r.e)&&r.hasOwnProperty(\"f\")&&s(r.f)}function y(r){return void 0===r}function b(r){return{a:1,c:0,e:r,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function v(){for(var r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];var e=function(r,n){return{a:r.a*n.a+r.c*n.b,c:r.a*n.c+r.c*n.d,e:r.a*n.e+r.c*n.f+r.e,b:r.b*n.a+r.d*n.b,d:r.b*n.c+r.d*n.d,f:r.b*n.e+r.d*n.f+r.f}};switch((n=Array.isArray(n[0])?n[0]:n).length){case 0:throw new Error(\"no matrices provided\");case 1:return n[0];case 2:return e(n[0],n[1]);default:var o=function(r){return Array.isArray(r)?r:Array.from(r)}(n),u=o[0],a=o[1],i=o.slice(2),f=e(u,a);return v.apply(void 0,[f].concat(function(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}(i)))}}function m(){return v.apply(void 0,arguments)}var h=Math.cos,x=Math.sin,g=Math.PI;function w(r,n,t){var e=h(r),o=x(r),u={a:e,c:-o,e:0,b:o,d:e,f:0};return y(n)||y(t)?u:v([b(n,t),u,b(-n,-t)])}function P(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return w(r*g/180,n,t)}function S(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return y(n)&&(n=r),{a:r,c:0,e:0,b:0,d:n,f:0}}function O(r,n){return{a:1,c:r,e:0,b:n,d:1,f:0}}var A=Math.tan;function F(r,n){return{a:1,c:A(r),e:0,b:A(n),d:1,f:0}}function M(r,n){return F(r*Math.PI/180,n*Math.PI/180)}function j(r){return T(r)}function _(r){return T(r)}function T(r){return\"matrix(\"+r.a+\",\"+r.b+\",\"+r.c+\",\"+r.d+\",\"+r.e+\",\"+r.f+\")\"}t.d(n,\"applyToPoint\",function(){return e}),t.d(n,\"applyToPoints\",function(){return o}),t.d(n,\"fromObject\",function(){return u}),t.d(n,\"fromString\",function(){return i}),t.d(n,\"identity\",function(){return f}),t.d(n,\"inverse\",function(){return c}),t.d(n,\"isAffineMatrix\",function(){return p}),t.d(n,\"rotate\",function(){return w}),t.d(n,\"rotateDEG\",function(){return P}),t.d(n,\"scale\",function(){return S}),t.d(n,\"shear\",function(){return O}),t.d(n,\"skew\",function(){return F}),t.d(n,\"skewDEG\",function(){return M}),t.d(n,\"toCSS\",function(){return j}),t.d(n,\"toSVG\",function(){return _}),t.d(n,\"toString\",function(){return T}),t.d(n,\"transform\",function(){return v}),t.d(n,\"compose\",function(){return m}),t.d(n,\"translate\",function(){return b})}])});\n//# sourceMappingURL=transformation-matrix.min.js.map","import {transform, fromObject, translate, scale} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM\n} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nfunction lessThanScaleFactorMin (value, scaleFactor) {\n  return value.scaleFactorMin && (value.d * (scaleFactor)) <= value.scaleFactorMin;\n}\n\nfunction moreThanScaleFactorMax (value, scaleFactor) {\n  return value.scaleFactorMax && (value.d * scaleFactor) >= value.scaleFactorMax;\n}\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  return lessThanScaleFactorMin(value, scaleFactor) && scaleFactor < 1 || moreThanScaleFactorMax(value, scaleFactor) && scaleFactor > 1;\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const scaleMatrix = scale(scaleLevel, scaleLevel);\n  let translationMatrix = translate(0, 0);\n\n  // after fitting, SVG and the viewer will match in width (1) or in height (2)\n  if (scaleX < scaleY) {\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    if (SVGAlignY === ALIGN_CENTER)\n      translationMatrix = translate(0, Math.round(remainderY / 2));\n    if (SVGAlignY === ALIGN_BOTTOM)\n      translationMatrix = translate(0, remainderY);\n  }\n  else {\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    if (SVGAlignX === ALIGN_CENTER)\n      translationMatrix = translate(Math.round(remainderX / 2), 0);\n    if (SVGAlignX === ALIGN_RIGHT)\n      translationMatrix = translate(remainderX, 0);\n  }\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor, props) {\n  let {startX, startY, endX, endY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, endX, endY);\n\n  if (Math.abs(startX - endX) > 7 && Math.abs(startY - endY) > 7) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n}\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints, inverse} from 'transformation-matrix';\n\n/**\n *\n * @param value\n * @param SVGDeltaX\n * @param SVGDeltaY\n * @param panLimit\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: panLimit, y: panLimit},\n      {x: value.SVGWidth - panLimit, y: value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/master'\n\nconst doc_v1_to_v2 = github_base + '/docs/migrate-from-v1-to-v2.md'\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipNoViewer() {\n  console.error(`HEY! You are trying to use an older version of ReactSVGPanZoom. Please read here ${doc_v1_to_v2}`)\n}\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (\n    isNullOrUndefined(props.tool) ||\n    isNullOrUndefined(props.value)\n  ) tipControlledComponent()\n\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  isValueValid,\n  reset,\n  setPointOnViewerCenter,\n  setSVGSize,\n  setViewerSize,\n  setZoomLevels\n} from './features/common';\nimport {\n  onDoubleClick,\n  onInterval,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    const {value, width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = props;\n    const {width: SVGWidth, height: SVGHeight} = children.props;\n\n    super(props, context);\n    this.ViewerDOM = null;\n    this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue: getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    }\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n  }\n\n  /** React hooks **/\n  componentDidUpdate(prevProps) {\n    const value = this.getValue();\n    const props = this.props\n\n    let nextValue = value;\n    let needUpdate = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n\n    if (\n      prevProps.width !== props.width ||\n      prevProps.height !== props.height\n    ) {\n      nextValue = setViewerSize(nextValue, props.width, props.height);\n      needUpdate = true;\n    }\n\n    let {width: SVGWidth, height: SVGHeight} = props.children.props;\n    let {width: prevSVGWidth, height: prevSVGHeight} = prevProps.children.props;\n    if (\n      prevSVGWidth !== SVGWidth ||\n      prevSVGHeight !== prevSVGHeight\n    ) {\n      nextValue = setSVGSize(nextValue, SVGWidth, SVGHeight);\n      needUpdate = true;\n    }\n\n    if (\n      prevProps.scaleFactorMin !== props.scaleFactorMin ||\n      prevProps.scaleFactorMax !== props.scaleFactorMax\n    ) {\n      nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n  componentDidMount() {\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n  }\n\n  /** ReactSVGPanZoom handlers **/\n  getValue() {\n    if (isValueValid(this.props.value)) return this.props.value\n    return this.state.defaultValue\n  }\n\n  getTool() {\n    if (this.props.tool) return this.props.tool\n    return TOOL_NONE\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  /** ReactSVGPanZoom methods **/\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  /** ReactSVGPanZoom internals **/\n  handleViewerEvent(event) {\n    let {props, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, props.value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.pointerX, y: this.state.pointerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  /** React renderer **/\n  render() {\n    let {props, state: {pointerX, pointerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar, customMiniature: CustomMiniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    const touchAction = (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) ? 'none' : undefined\n\n    const style = {display: 'block', cursor, touchAction};\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, backgroundColor: \"#101735\", ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={style}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({pointerX: x, pointerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onWheel={event => {\n            let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          {/* <rect\n            fill={props.background}\n            x={200}\n            y={200}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          /> */}\n\n          <g\n            transform={`${toSVG(value)} translate(-10000, -10000)`}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            {/* <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g> */}\n              {props.children.props.children}\n            {/* </g> */}\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarProps.position === POSITION_NONE ? null :\n          <CustomToolbar\n            {...this.props.toolbarProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.props.onChangeTool(tool)}\n          />}\n\n        {props.miniatureProps.position === POSITION_NONE ? null :\n          <CustomMiniature\n            {...this.props.miniatureProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n\n  //value of the viewer (current camera view)\n  value: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.shape({\n      version: PropTypes.oneOf([2]).isRequired,\n      mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n      focus: PropTypes.bool.isRequired,\n      a: PropTypes.number.isRequired,\n      b: PropTypes.number.isRequired,\n      c: PropTypes.number.isRequired,\n      d: PropTypes.number.isRequired,\n      e: PropTypes.number.isRequired,\n      f: PropTypes.number.isRequired,\n      viewerWidth: PropTypes.number.isRequired,\n      viewerHeight: PropTypes.number.isRequired,\n      SVGWidth: PropTypes.number.isRequired,\n      SVGHeight: PropTypes.number.isRequired,\n      startX: PropTypes.number,\n      startY: PropTypes.number,\n      endX: PropTypes.number,\n      endY: PropTypes.number,\n      miniatureOpen: PropTypes.bool.isRequired,\n    })\n  ]).isRequired,\n\n  //handler something changed\n  onChangeValue: PropTypes.func.isRequired,\n\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  //handler tool changed\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  //background of the viewer\n  background: PropTypes.string,\n\n  //background of the svg\n  SVGBackground: PropTypes.string,\n\n  //style of the svg\n  SVGStyle: PropTypes.object,\n\n  //CSS style of the Viewer\n  style: PropTypes.object,\n\n  //className of the Viewer\n  className: PropTypes.string,\n\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n\n  //handler pan action performed\n  onPan: PropTypes.func,\n\n  //handler click\n  onClick: PropTypes.func,\n\n  //handler double click\n  onDoubleClick: PropTypes.func,\n\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //miniature props\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  //accept only one node SVG\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) {\n      return new Error('SVG should have props `width` and `height`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  customToolbar: Toolbar,\n  toolbarProps: {},\n  customMiniature: Miniature,\n  miniatureProps: {},\n};\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import {\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  MODE_IDLE\n} from '../constants';\nimport {setFocus, setViewerCoords, getSVGPoint} from './common';\nimport {startPanning, updatePanning, stopPanning, autoPanIfNeeded} from './pan';\nimport {startZooming, updateZooming, stopZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_AUTO:\n      if (!props.disableDoubleClickZoomWithToolAuto) {\n        let SVGPoint = getSVGPoint(value, x, y);\n        let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n        let modifierKeyActive = props.modifierKeys.reduce(modifierKeysReducer, false);\n        let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n        nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n      }\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (! ([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0) ) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, position, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n};\n\nToolbar.defaultProps = {\n  position: POSITION_RIGHT,\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nconst {min, max} = Math;\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, children, position, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2}, 0)`\n    : `translate(0, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nMiniature.defaultProps = {\n  position: POSITION_LEFT,\n  background: \"#616264\",\n  width: 100,\n  height: 80,\n}\n","import {tipNoViewer} from \"./migration-tips\";\n\nexport {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  tipNoViewer()\n  return null;\n};\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function (originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerMouseEvent extends ViewerEvent{\n\n  get point() {\n    if (!this._cachePoint) {\n      let event = this.originalEvent, value = this.value, SVGViewer = this.SVGViewer;\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = event.clientX - Math.round(rect.left);\n      let y = event.clientY - Math.round(rect.top);\n\n      this._cachePoint = getSVGPoint(value, x, y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","export default function mapRange(value, low1, high1, low2, high2) {\n  return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nfunction getNextValue(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number.isRequired,\n  startY: PropTypes.number.isRequired,\n  endX: PropTypes.number.isRequired,\n  endY: PropTypes.number.isRequired\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? '#1CA6FC' : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        role=\"button\"\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button role=\"button\" type=\"button\" style={style} onClick={event => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x=\"0\" y=\"0\" width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nexport default class UncontrolledReactSVGPanZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE,\n    }\n\n    this.Viewer = null;\n    this.changeTool = this.changeTool.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  changeTool(tool) {\n    this.setState({tool})\n  }\n\n  changeValue(value) {\n    this.setState({value})\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    this.Viewer.pan(SVGDeltaX, SVGDeltaY)\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor)\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight)\n  }\n\n  fitToViewer(SVGAlignX, SVGAlignY) {\n    this.Viewer.fitToViewer(SVGAlignX, SVGAlignY)\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    this.Viewer.zoomOnViewerCenter(scaleFactor)\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel)\n  }\n\n  reset() {\n    this.Viewer.reset()\n  }\n\n  openMiniature() {\n    this.Viewer.openMiniature()\n  }\n\n  closeMiniature() {\n    this.Viewer.closeMiniature()\n  }\n\n  render() {\n    const {width, height, onChangeTool, onChangeValue, ...props} = this.props\n    const {tool, value} = this.state\n\n    return (\n      <ReactSVGPanZoom\n        width={width} height={height}\n        tool={tool} onChangeTool={this.changeTool}\n        value={value} onChangeValue={this.changeValue}\n        ref={Viewer => this.Viewer = Viewer}\n        {...props}\n      />\n    )\n  }\n}\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n"],"sourceRoot":""}